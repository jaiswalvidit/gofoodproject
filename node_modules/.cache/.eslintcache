[{"D:\\food_app\\mernapp\\src\\index.js":"1","D:\\food_app\\mernapp\\src\\App.js":"2","D:\\food_app\\mernapp\\src\\components\\Profile.js":"3","D:\\food_app\\mernapp\\src\\screens\\MyOrders.js":"4","D:\\food_app\\mernapp\\src\\components\\ContextReducer.js":"5","D:\\food_app\\mernapp\\src\\components\\Success.js":"6","D:\\food_app\\mernapp\\src\\components\\Cancel.js":"7","D:\\food_app\\mernapp\\src\\components\\RestaurantPage.js":"8","D:\\food_app\\mernapp\\src\\components\\Navbar.js":"9","D:\\food_app\\mernapp\\src\\components\\Contact.js":"10","D:\\food_app\\mernapp\\src\\components\\about.js":"11","D:\\food_app\\mernapp\\src\\components\\Footer.js":"12","D:\\food_app\\mernapp\\src\\components\\Body.js":"13","D:\\food_app\\mernapp\\src\\screens\\Login.js":"14","D:\\food_app\\mernapp\\src\\screens\\Home.js":"15","D:\\food_app\\mernapp\\src\\screens\\Signup.js":"16","D:\\food_app\\mernapp\\src\\constants.js":"17","D:\\food_app\\mernapp\\src\\RestaurantData.js":"18","D:\\food_app\\mernapp\\src\\components\\FoodDataCard.js":"19","D:\\food_app\\mernapp\\src\\screens\\Cart.js":"20","D:\\food_app\\mernapp\\src\\components\\Shimmer.js":"21","D:\\food_app\\mernapp\\src\\components\\restaurantCard.js":"22","D:\\food_app\\mernapp\\src\\components\\EditAddress.js":"23","D:\\food_app\\mernapp\\src\\screens\\Restaurant.js":"24","D:\\food_app\\mernapp\\src\\components\\Display.js":"25","D:\\food_app\\mernapp\\src\\components\\addItem.js":"26","D:\\food_app\\mernapp\\src\\screens\\RestaurantDetail.js":"27"},{"size":251,"mtime":1695557095545,"results":"28","hashOfConfig":"29"},{"size":2292,"mtime":1702400487069,"results":"30","hashOfConfig":"29"},{"size":6856,"mtime":1702213140229,"results":"31","hashOfConfig":"29"},{"size":5008,"mtime":1702402262532,"results":"32","hashOfConfig":"29"},{"size":1595,"mtime":1695728433003,"results":"33","hashOfConfig":"29"},{"size":549,"mtime":1701539297845,"results":"34","hashOfConfig":"29"},{"size":497,"mtime":1696918981277,"results":"35","hashOfConfig":"29"},{"size":5773,"mtime":1702211088213,"results":"36","hashOfConfig":"29"},{"size":10119,"mtime":1702317969263,"results":"37","hashOfConfig":"29"},{"size":1562,"mtime":1697366211671,"results":"38","hashOfConfig":"29"},{"size":1533,"mtime":1702213186410,"results":"39","hashOfConfig":"29"},{"size":1208,"mtime":1700761117825,"results":"40","hashOfConfig":"29"},{"size":4271,"mtime":1697126786608,"results":"41","hashOfConfig":"29"},{"size":3872,"mtime":1702213082633,"results":"42","hashOfConfig":"29"},{"size":5931,"mtime":1700828331818,"results":"43","hashOfConfig":"29"},{"size":4242,"mtime":1702212522876,"results":"44","hashOfConfig":"29"},{"size":391,"mtime":1696164467681,"results":"45","hashOfConfig":"29"},{"size":183506,"mtime":1698690698221,"results":"46","hashOfConfig":"29"},{"size":3287,"mtime":1701540129815,"results":"47","hashOfConfig":"29"},{"size":3848,"mtime":1702213104823,"results":"48","hashOfConfig":"29"},{"size":327,"mtime":1701539300079,"results":"49","hashOfConfig":"29"},{"size":2303,"mtime":1701539304742,"results":"50","hashOfConfig":"29"},{"size":6477,"mtime":1702213166975,"results":"51","hashOfConfig":"29"},{"size":5030,"mtime":1702399068397,"results":"52","hashOfConfig":"29"},{"size":2254,"mtime":1702400410607,"results":"53","hashOfConfig":"29"},{"size":4371,"mtime":1702320416141,"results":"54","hashOfConfig":"29"},{"size":1974,"mtime":1702401082187,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},"1w7smkr",{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"59"},{"filePath":"127","messages":"128","suppressedMessages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","suppressedMessages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","suppressedMessages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","suppressedMessages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\food_app\\mernapp\\src\\index.js",[],[],["139"],"D:\\food_app\\mernapp\\src\\App.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Profile.js",[],[],"D:\\food_app\\mernapp\\src\\screens\\MyOrders.js",[],[],"D:\\food_app\\mernapp\\src\\components\\ContextReducer.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Success.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Cancel.js",[],[],"D:\\food_app\\mernapp\\src\\components\\RestaurantPage.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Navbar.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Contact.js",[],[],"D:\\food_app\\mernapp\\src\\components\\about.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Footer.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Body.js",[],[],"D:\\food_app\\mernapp\\src\\screens\\Login.js",[],[],"D:\\food_app\\mernapp\\src\\screens\\Home.js",[],[],"D:\\food_app\\mernapp\\src\\screens\\Signup.js",[],[],"D:\\food_app\\mernapp\\src\\constants.js",[],[],"D:\\food_app\\mernapp\\src\\RestaurantData.js",[],[],"D:\\food_app\\mernapp\\src\\components\\FoodDataCard.js",[],[],"D:\\food_app\\mernapp\\src\\screens\\Cart.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Shimmer.js",[],[],"D:\\food_app\\mernapp\\src\\components\\restaurantCard.js",[],[],"D:\\food_app\\mernapp\\src\\components\\EditAddress.js",["140"],[],"import React, { useState, useEffect } from \"react\";\r\nconst API_URLS = {\r\n  USER_DATA: \"/api/userdata\",\r\n};\r\n\r\nexport default function EditAddress() {\r\n  const [userData, setUserData] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [updatedUser, setUpdatedUser] = useState({});\r\n  const [addressForm, setAddressForm] = useState(\"\");\r\n  const [addresses, setAddresses] = useState([]);\r\n  const [editAddressIndex, setEditAddressIndex] = useState(null);\r\n  const [isAddingAddress, setIsAddingAddress] = useState(false);\r\n  const [updatedLocation, setUpdatedLocation] = useState([]);\r\n  const useremail = localStorage.getItem(\"userEmail\");\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const response = await fetch(API_URLS.USER_DATA, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n      \r\n        if (response.ok) {\r\n          const users = await response.json();\r\n          const filteredUser = users.find((user) => user.email === useremail);\r\n\r\n          if (filteredUser) {\r\n            setUserData(filteredUser);\r\n            setUpdatedUser(filteredUser);\r\n            setAddresses(filteredUser.location || []);\r\n          } else {\r\n            console.error(\"User with email not found\");\r\n          }\r\n        } else {\r\n          console.error(\"Failed to fetch user data\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n      }\r\n    }\r\n\r\n    fetchData();\r\n  }, [useremail]);\r\n\r\n  const handleSaveClick = async () => {\r\n    try {\r\n      // Apply the changes to the updatedLocation state\r\n      const updatedUserWithLocation = {\r\n        ...updatedUser,\r\n        location: updatedLocation,\r\n      };\r\n      console.log(updatedLocation);\r\n\r\n      // Update the user data in the database\r\n      const response = await fetch(API_URLS.USER_DATA, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(updatedUserWithLocation),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const updatedUserData = await response.json();\r\n        setUserData(updatedUserData);\r\n        setIsEditing(false);\r\n      } else {\r\n        console.error(\"Failed to update user data\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating user data:\", error);\r\n    }\r\n  };\r\n\r\n  const handleAddressChange = ({ target: { name, value } }) => {\r\n    setAddressForm(value);\r\n  };\r\n\r\n  const handleAddressSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    let newAddress = addressForm; // Set newAddress to the value from addressForm\r\n\r\n    if (editAddressIndex !== null) {\r\n      // Edit address\r\n      const newAddresses = [...addresses];\r\n      newAddresses[editAddressIndex] = newAddress;\r\n      setAddresses(newAddresses);\r\n\r\n      // Update the updated location for saving\r\n      setUpdatedLocation(newAddresses);\r\n    } else {\r\n      // Add new address\r\n      const newLocationArray = [addressForm];\r\n      setAddresses([...addresses, newLocationArray]);\r\n\r\n      // Update the updated location for saving\r\n      setUpdatedLocation([...addresses, ...newLocationArray]);\r\n    }\r\n\r\n    setAddressForm(\"\");\r\n    setEditAddressIndex(null);\r\n    setIsAddingAddress(false);\r\n  };\r\n\r\n  const toggleAddAddress = () => {\r\n    setIsAddingAddress(!isAddingAddress);\r\n    setAddressForm(\"\");\r\n    setEditAddressIndex(null);\r\n  };\r\n\r\n  const editAddress = async (index) => {\r\n    // Edit address - Set the form values and open the form\r\n    setAddressForm(addresses[index]);\r\n\r\n    setEditAddressIndex(index);\r\n    setIsEditing(true); // Set isEditing to true when editing\r\n    setIsAddingAddress(true);\r\n  };\r\n\r\n  const deleteAddress = async (index) => {\r\n    // Delete address\r\n    const newAddresses = [...addresses];\r\n    newAddresses.splice(index, 1);\r\n    setAddresses(newAddresses);\r\n\r\n    // Update the updated location for saving\r\n    setUpdatedLocation(newAddresses);\r\n  };\r\n\r\n  const renderAddressForm = () => {\r\n    if (isAddingAddress || isEditing) {\r\n      // Show the form when adding or editing\r\n      return (\r\n        <form onSubmit={handleAddressSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"location\">Location:</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"location\"\r\n              name=\"location\"\r\n              value={addressForm}\r\n              onChange={handleAddressChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            {editAddressIndex !== null ? \"Update Address\" : \"Add Address\"}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary ml-2 mx-2\"\r\n            onClick={toggleAddAddress}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </form>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"text-center font-weight-bold px-2 py-0 rounded\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn bg-danger text-light fs-2 btn-lg rounded\"\r\n            onClick={toggleAddAddress}\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ul className=\"row\">\r\n        {addresses.map((address, index) => (\r\n          <div className=\"col-md-6\" key={index}>\r\n            <div className=\"card mb-3 \">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Address {index + 1}</h5>\r\n                <p className=\"card-text text-capitalize\">{address}</p>\r\n                <div className=\"btn-group\" role=\"group\">\r\n                  <button\r\n                    className=\"btn btn-primary mx-3 rounded\"\r\n                    onClick={() => editAddress(index)}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-warning mx-3 rounded\"\r\n                    onClick={() => deleteAddress(index)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </ul>\r\n      <h2>{renderAddressForm()}</h2>\r\n\r\n      <button className=\"btn btn-primary my-2\" onClick={handleSaveClick}>\r\n        Save\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n","D:\\food_app\\mernapp\\src\\screens\\Restaurant.js",[],[],"D:\\food_app\\mernapp\\src\\components\\Display.js",[],[],"D:\\food_app\\mernapp\\src\\components\\addItem.js",[],[],"D:\\food_app\\mernapp\\src\\screens\\RestaurantDetail.js",["141"],[],{"ruleId":"142","replacedBy":"143"},{"ruleId":"144","severity":1,"message":"145","line":7,"column":10,"nodeType":"146","messageId":"147","endLine":7,"endColumn":18},{"ruleId":"144","severity":1,"message":"148","line":2,"column":10,"nodeType":"146","messageId":"147","endLine":2,"endColumn":14},"no-new-object",["149"],"no-unused-vars","'userData' is assigned a value but never used.","Identifier","unusedVar","'Link' is defined but never used.","no-object-constructor"]